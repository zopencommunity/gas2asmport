diff --git a/test/Makefile.mvs b/test/Makefile.mvs
new file mode 100644
index 0000000..1cfd926
--- /dev/null
+++ b/test/Makefile.mvs
@@ -0,0 +1,26 @@
+.SUFFIXES: .assemble .text
+.PHONY: all clean check ok
+.SECONDARY: .assemble
+
+MOD := ../gas2asm
+XPD := ../asmxpnd
+
+FNS:=${basename ${wildcard *.s}}
+ASM:=${addsuffix .assemble,${FNS}}
+
+%.assemble: %.s ${MOD} ${XPD}
+	((${MOD} <$< | ${XPD} >$@) || (mv $@ $*.asm; exit 1))
+
+check: ${ASM}
+	cat *.assemble >check.asm
+	diff check.asmok check.asm >check.out
+	@echo '>>> all pass <<<'
+
+ok:
+	mv check.asm check.asmok
+
+%.text: %.assemble
+	as -I ../macros $*
+
+clean:
+	rm -f *.assemble *.text check.asm
